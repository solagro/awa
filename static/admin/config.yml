backend:
  # name: test-repo
  name: github
  repo: solagro/awa
media_folder: 'static/media/uploads'
public_folder: '/media/uploads'

.common:
  - &quiz {
    name: 'quiz',
    extension: 'json',
    label: 'Quiz question/answer',
    folder: 'content/quiz',
    create: false,
    delete: true,
    editor: { preview: false },
    slug: '{{theme}}-{{slug}}',
    fields: [
      { label: 'Theme', name: 'theme', widget: 'select', options: ['north', 'atlantic', 'continental', 'meridional'] },
      { label: 'Category', name: 'category', widget: 'select', options: ['climate-change', 'agricultural-impacts', 'adaptation'] },
      { label: 'Title (used only for technical references', name: 'title', widget: 'string' },
      { label: 'Order', name: 'order', widget: 'number' },
      { label: 'Question (en)', name: 'question', widget: 'markdown' },
      {
        label: 'Question translations', name: 'question-i18n', widget: 'list',
        fields: [
          { label: 'Language', name: 'language', widget: 'select', options: ['fr', 'de', 'et', 'es'] },
          { label: 'Question', name: 'question', widget: 'markdown' },
        ]
      },
      { label: 'Answers (en)', name: 'answers', widget: 'text' },
      {
        label: 'Answer translations', name: 'answer-i18n', widget: 'list',
        fields: [
          { label: 'Language', name: 'language', widget: 'select', options: ['fr', 'de', 'et', 'es'] },
          { label: 'Answers', name: 'answers', widget: 'text' }
        ]
      },
      { label: 'Explanation', name: 'explanation', widget: 'markdown' },
      {
        label: 'Explanation translations', name: 'explanation-i18n', widget: 'list',
        fields: [
          { label: 'Language', name: 'language', widget: 'select', options: ['fr', 'de', 'et', 'es'] },
          { label: 'Explanation', name: 'explanation', widget: 'markdown' },
        ]
      },
    ]
  }

collections:
  - <<: *quiz
    name: 'quiz'
    label: 'Quiz: All questions'
    create: true
  - <<: *quiz
    name: 'quiz-n'
    label: 'Quiz: Nord'
    filter: { field: 'theme', value: 'north' }
  - <<: *quiz
    name: 'quiz-a'
    label: 'Quiz: Atlantique'
    filter: { field: 'theme', value: 'atlantic' }
  - <<: *quiz
    name: 'quiz-c'
    label: 'Quiz: Continental'
    filter: { field: 'theme', value: 'continental' }
  - <<: *quiz
    name: 'quiz-m'
    label: 'Quiz: Meridional'
    filter: { field: 'theme', value: 'meridional' }
  - <<: *quiz
    name: 'quiz-common'
    label: 'Quiz: Unspecific'
    filter: { field: 'theme', value: 'common' }

